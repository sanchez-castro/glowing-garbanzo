{"version":3,"sources":["webpack:///./src/shared/component/post-list.tsx","webpack:///./src/shared/component/extended-searchbar.tsx","webpack:///./node_modules/core-js/modules/es6.object.define-property.js","webpack:///./src/shared/component/post-list.module.scss","webpack:///./src/pages/search-result.tsx","webpack:///./src/shared/component/extended-searchbar.module.scss","webpack:///(webpack)/buildin/global.js"],"names":["PostList","props","postList","_","cloneDeep","list","resultList","result","state","visiblePosts","fullList","componentDidMount","this","loadMore","componentWillReceiveProps","setState","listLength","length","allMarkdownRemark","edges","slice","render","map","index","node","frontmatter","title","date","description","contentType","tags","featuredImage","type","slug","fields","key","excerpt","childImageSharp","fluid","src","link","extended","mobile","className","xs","sm","md","lg","styles","loadPosts","onClick","Component","Tag","active","activeTag","tag","join","deleteTag","addTag","ExtendedSearchbar","group","fieldValue","selectedTags","includes","useState","visibleTags","xl","extendedInputContainer","extendedSearchbar","searchbarMobile","placeholder","onKeyUp","tagContainer","filter","push","onTagSelected","console","log","moreTags","moreTagsMobile","$export","S","F","defineProperty","f","module","exports","ResultPage","tagSelectHandler","filterByTags","search","filteredData","PostsData","data","query","location","searchTerm","toLowerCase","searchInputHandler","event","target","value","trim","dummyData","posts","Fuse","keys","item","post","intersection","size","searchText","bind","style","margin","resultPageQuery","g","Function","e","window"],"mappings":"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","file":"component---src-pages-search-result-tsx-cb2138e7bc68263088d9.js","sourcesContent":["import React, { Fragment, Component } from \"react\";\nimport { PostsData } from \"../models/post\";\nimport PostPreview from \"./post-preview\";\nimport Subscribe from \"./subscribe\";\nimport styles from \"./post-list.module.scss\";\nimport _ from \"lodash\";\nimport { Edge } from \"../models/post\";\nimport { Col, Row } from \"react-bootstrap\";\n\ninterface PostListProps {\n  list: PostsData;\n  result?: boolean;\n  mobile?: boolean;\n}\n\ninterface PostListState {\n  visiblePosts: Edge[];\n  fullList: boolean;\n}\n\nclass PostList extends Component<PostListProps, PostListState> {\n  private postList: PostsData;\n  private resultList: boolean;\n  constructor(props: PostListProps) {\n    super(props);\n    this.postList = _.cloneDeep(props.list);\n    this.resultList = props.result ? props.result : false;\n    this.state = {\n      visiblePosts: [],\n      fullList: false,\n    };\n  }\n\n  componentDidMount() {\n    this.loadMore();\n  }\n\n  componentWillReceiveProps(props: PostListProps) {\n    this.postList = _.cloneDeep(props.list);\n\n    this.setState(\n      {\n        visiblePosts: [],\n        fullList: false,\n      },\n      () => this.loadMore()\n    );\n  }\n\n  loadMore() {\n    const listLength = this.state.visiblePosts.length;\n\n    this.setState({\n      visiblePosts: this.postList.allMarkdownRemark.edges.slice(\n        0,\n        listLength + 6\n      ),\n      fullList: listLength == this.postList.allMarkdownRemark.edges.length,\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.visiblePosts.map(({ node }: any, index: number) => {\n          const {\n            title,\n            date,\n            description,\n            contentType,\n            tags,\n            featuredImage,\n            type\n          } = node.frontmatter;\n          const slug = node.fields.slug;\n          return (\n            <Fragment key={index}>\n              <PostPreview\n                key={slug}\n                title={title}\n                date={date}\n                excerpt={description || node.excerpt}\n                contentType={contentType}\n                tags={tags}\n                featuredImage={\n                  featuredImage ? featuredImage.childImageSharp.fluid.src : null\n                }\n                type={type}\n                link={slug}\n                extended={index == 0 && !this.resultList ? true : false}\n                mobile={this.props.mobile}\n              ></PostPreview>\n              {index == 4 && !this.resultList ? <Subscribe></Subscribe> : \"\"}\n            </Fragment>\n          );\n        })}\n\n        {this.state.fullList ? (\n          \"\"\n        ) : (\n          <Row className=\"justify-content-center\">\n            <Col xs={10} sm={10} md={10} lg={12}>\n              <div className={styles.loadPosts} onClick={() => this.loadMore()}>\n                Cargar más\n              </div>\n            </Col>\n          </Row>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default PostList;\n","import React, { useState, Fragment } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport styles from \"./extended-searchbar.module.scss\";\nimport searchIcon from \"../../assets/icon/search.svg\";\nimport { useStaticQuery, graphql } from \"gatsby\";\n\ninterface SearchbarState {\n  selectedTags: Array<string>;\n  visibleTags: Tag[];\n}\n\nconst ExtendedSearchbar = (props: any) => {\n  const data = useStaticQuery(\n    graphql`\n      query Tags {\n        allMarkdownRemark(limit: 2000) {\n          group(field: frontmatter___tags) {\n            fieldValue\n          }\n        }\n      }\n    `\n  );\n\n  const tags: Array<Tag> = data.allMarkdownRemark.group.map((tag: any) => {\n    return {\n      title: tag.fieldValue,\n      active: props.selectedTags\n        ? props.selectedTags.includes(tag.fieldValue)\n        : false,\n    };\n  });\n\n  const [state, setState] = useState<SearchbarState>({\n    selectedTags: props.selectedTags ? props.selectedTags : [],\n    visibleTags: props.mobile ? tags.slice(0, 5) : tags.slice(0, 10),\n  });\n\n  const addTag = (title: string) => {\n    let selectedTags = state.selectedTags;\n    if (selectedTags.includes(title)) {\n      selectedTags = selectedTags.filter((tag: string) => tag !== title);\n    } else {\n      selectedTags.push(title);\n    }\n    const visibleTags = state.visibleTags.map((tag) => {\n      return { title: tag.title, active: selectedTags.includes(tag.title) };\n    });\n    setState({\n      selectedTags: selectedTags,\n      visibleTags: visibleTags,\n    });\n    if (props.onTagSelected) {\n      props.onTagSelected(selectedTags);\n    }\n    console.log(state);\n  };\n\n  const displayAllTags = () => {\n    setState({\n      selectedTags: state.selectedTags,\n      visibleTags: tags,\n    });\n  };\n\n  return (\n    <div>\n      <Row className=\"justify-content-md-center\">\n        <Col\n          className=\"d-flex justify-content-center\"\n          sm={10}\n          md={10}\n          lg={10}\n          xl={10}\n        >\n          <div className={styles.extendedInputContainer}>\n            <input\n              className={[\n                styles.extendedSearchbar,\n                props.mobile ? styles.searchbarMobile : \"\",\n              ].join(\" \")}\n              type=\"text\"\n              placeholder={\n                !props.mobile\n                  ? \"¿Qué quieres aprender el día de hoy?\"\n                  : \"Buscar\"\n              }\n              onKeyUp={props.onKeyUp}\n            />\n          </div>\n        </Col>\n      </Row>\n      <Row className=\"justify-content-center\">\n        <small>Filtrar por etiqueta</small>\n      </Row>\n      <Row className=\"justify-content-center\">\n        <Col className=\"d-flex justify-content-center\" lg={7} xl={7}>\n          <div className={styles.tags}>\n            {state.visibleTags.map((tag: Tag) => (\n              <div\n                className={styles.tagContainer}\n                onClick={() => addTag(tag.title)}\n                key={tag.title}\n              >\n                <Tag title={tag.title} active={tag.active}></Tag>\n              </div>\n            ))}\n          </div>\n        </Col>\n      </Row>\n      <Row\n        className={[\n          \"justify-content-center\",\n          styles.moreTags,\n          props.mobile ? styles.moreTagsMobile : \"\",\n        ].join(\" \")}\n      >\n        {state.visibleTags.length < tags.length ? (\n          <small onClick={() => displayAllTags()}>\n            Ver todas las etiquetas\n          </small>\n        ) : (\n          \"\"\n        )}\n      </Row>\n    </div>\n  );\n};\n\ninterface Tag {\n  title: string;\n  active: boolean;\n}\n\nconst Tag = (props: Tag) => {\n  return (\n    <button\n      className={[props.active ? styles.activeTag : \"\", styles.tag].join(\" \")}\n    >\n      {props.title}\n      {props.active ? (\n        <label className={styles.deleteTag}>\n          <small>&#10005;</small>\n        </label>\n      ) : (\n        <label className={styles.addTag}>\n          <small>&#10005;</small>\n        </label>\n      )}\n    </button>\n  );\n};\n\nexport default ExtendedSearchbar;\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadPosts\":\"post-list-module--load-posts--17m4n\"};","import React, { useState, Component, Fragment, KeyboardEvent } from \"react\";\nimport Layout from \"../shared/component/layout\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport ExtendedSearchbar from \"../shared/component/extended-searchbar\";\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport { postsFragment } from \"../shared/fragments/posts\";\nimport { PostsData } from \"../shared/models/post\";\nimport { IPostsData } from \"../shared/interfaces/post\";\nimport _ from \"lodash\";\nimport PostList from \"../shared/component/post-list\";\nimport Fuse from \"fuse.js\";\n\ninterface ResultProps {\n  location: any;\n  data: PostsData;\n}\n\ninterface ResultState {\n  query: string;\n  filteredData: PostsData;\n  selectedTags: string[];\n}\n\nclass ResultPage extends Component<ResultProps, ResultState> {\n  constructor(props: ResultProps) {\n    super(props);\n    this.state = {\n      filteredData: new PostsData(_.cloneDeep(props.data)),\n      query: props.location.state\n        ? props.location.state.searchTerm.toLowerCase()\n        : \"\",\n      selectedTags: props.location.state ? props.location.state.tags : [],\n    };\n  }\n\n  componentDidMount() {\n    this.search();\n  }\n\n  searchInputHandler(event: React.KeyboardEvent<HTMLInputElement>) {\n    const query = event.target as HTMLInputElement;\n    this.setState(\n      {\n        query: query.value,\n      },\n      () => this.search()\n    );\n  }\n\n  search() {\n    if (!this.state.query.trim() && this.state.selectedTags.length == 0) {\n      this.setState({\n        filteredData: _.cloneDeep(this.props.data),\n      });\n      return;\n    }\n    const dummyData = _.cloneDeep(this.props.data);\n    let posts = dummyData.allMarkdownRemark.edges || [];\n    const options = {\n      keys: [\n        \"node.excerpt\",\n        \"node.frontmatter.title\",\n        \"node.frontmatter.tags\",\n        \"node.frontmatter.contentType\",\n      ],\n    };\n    const fuse = new Fuse(posts, options);\n    const result = fuse.search(this.state.query);\n    posts = result.map((result) => result.item);\n    dummyData.allMarkdownRemark.edges = posts;\n    this.setState(\n      {\n        filteredData: dummyData,\n      },\n      () => (this.state.selectedTags.length > 0 ? this.filterByTags() : \"\")\n    );\n  }\n\n  filterByTags() {\n    let dummyData: PostsData;\n    if (!this.state.query.trim()) {\n      dummyData = _.cloneDeep(this.props.data);\n    } else {\n      dummyData = { ...this.state.filteredData };\n    }\n    const posts = dummyData.allMarkdownRemark.edges || [];\n    const filteredData = posts.filter((post: any) => {\n      const { tags } = post.node.frontmatter;\n      return _.intersection(tags, this.state.selectedTags).length > 0;\n    });\n    dummyData.allMarkdownRemark.edges = filteredData;\n    this.setState({\n      filteredData: dummyData,\n    });\n  }\n\n  tagSelectHandler = (tags: Array<string>) => {\n    if (tags.length > 0) {\n      this.setState(\n        {\n          selectedTags: tags,\n        },\n        () => this.filterByTags()\n      );\n    } else {\n      this.setState(\n        {\n          selectedTags: tags,\n        },\n        () => this.search()\n      );\n    }\n  };\n\n  render() {\n    const size = this.state.filteredData.allMarkdownRemark.edges.length;\n    const searchText = `${size} ${\n      size > 1 ? \"publicaciones\" : \"publicación\"\n    } encontrada${size > 1 ? \"s\" : \"\"} para ${\n      !this.state.query.trim() ? \"tu búsqueda\" : '\"' + this.state.query + '\"'\n    }`;\n    return (\n      <Layout>\n        <Container fluid>\n          <ExtendedSearchbar\n            selectedTags={this.state.selectedTags}\n            onTagSelected={this.tagSelectHandler}\n            onKeyUp={this.searchInputHandler.bind(this)}\n            value={this.state.query}\n            mobile={true}\n          ></ExtendedSearchbar>\n          <Row className=\"justify-content-center\">\n            <Col lg={10} className=\"d-none d-lg-block\">\n              <p className=\"headline-1\" style={{ margin: \"5vh 0 5vh 0\" }}>\n                {searchText}\n              </p>\n            </Col>\n            <Col xs={10} sm={10} md={10} className=\"d-block d-lg-none\">\n              <p className=\"headline-2\" style={{ margin: \"5vh 0 5vh 0\" }}>\n                {searchText}\n              </p>\n            </Col>\n            <Col lg={10} xl={10} className=\"d-none d-lg-block\">\n              <PostList result={true} list={this.state.filteredData}></PostList>\n            </Col>\n            <Col xs={12} sm={12} className=\"d-block d-lg-none p-0\">\n              <PostList\n                mobile={true}\n                result={true}\n                list={this.state.filteredData}\n              ></PostList>\n            </Col>\n          </Row>\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport default ResultPage;\n\nexport const resultPageQuery = graphql`\n  query {\n    ...PostsFragment\n  }\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"extendedInputContainer\":\"extended-searchbar-module--extended-input-container--1R9Ou\",\"extendedSearchbar\":\"extended-searchbar-module--extended-searchbar--cb_S8\",\"searchbarMobile\":\"extended-searchbar-module--searchbar-mobile--2aJWB\",\"tags\":\"extended-searchbar-module--tags--1gRRM\",\"tagContainer\":\"extended-searchbar-module--tag-container--2riFW\",\"tag\":\"extended-searchbar-module--tag--1tj7o\",\"activeTag\":\"extended-searchbar-module--active-tag--16fIM\",\"deleteTag\":\"extended-searchbar-module--delete-tag--2O1x1\",\"addTag\":\"extended-searchbar-module--add-tag--32CbX\",\"moreTags\":\"extended-searchbar-module--more-tags--3blrs\",\"moreTagsMobile\":\"extended-searchbar-module--more-tags-mobile--1vali\"};","var g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;"],"sourceRoot":""}